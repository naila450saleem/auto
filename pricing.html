<!DOCTYPE html>
<html lang="en">
<head>

  
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pricing | Auto Transport Quote</title>
<style>
  body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: #f7f8fa;
    color: #222;
  }

  header {
    background: #581eff;
    color: #fff;
    padding: 20px 0;
    text-align: center;
    font-size: 26px;
    font-weight: 600;
    letter-spacing: 1px;
  }

  /* ---------- MAIN CONTAINER ---------- */
  .main-layout {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    gap: 30px;
    max-width: 1200px;
    margin: 50px auto;
    flex-wrap: nowrap;
  }

  /* ---------- LEFT SIDE: PRICE OPTIONS ---------- */
  .price-options {
    display: flex;
    flex-direction: column;
    gap: 25px;
    flex: 0 0 25%; /* smaller width (35%) */
    margin-left: 10%;
  }

  .price-option {
    background: #fff;
    border-radius: 16px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.1);
    padding: 25px;
    text-align: center;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .price-option:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
  }

  .price-option h3 {
    color: -#581eff;
    margin-bottom: 10px;
    font-size: 20px;
  }

  .price-amount {
    font-size: 32px;
    font-weight: 700;
    color: #581eff;
    margin: 10px 0;
  }

  .price-description {
    color: #666;
    margin-bottom: 15px;
    line-height: 1.5;
    font-size: 14px;
  }

  .book-online-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  margin-top: 15px;
}

.book-btn {
  display: inline-block;
  background-color: transparent;
  color: #000;
  font-weight: 600;
  padding: 12px 24px;
  border-radius: 8px;
  text-decoration: none;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  transition: background-color 0.3s ease, transform 0.2s ease;
  border: 2px solid #581eff;
}

.book-btn:hover {
  background-color: #0056b3;
  transform: translateY(-2px);
  color: #fff;
}

.book-phone {
  margin-top: 8px;
  color: #333;
  text-decoration: none;
  font-size: 16px;
  font-weight: 500;
}

.book-phone:hover {
  color: #007bff;
  text-decoration: underline;
}


  /* ---------- RIGHT SIDE: SUMMARY ---------- */
  .summary-section {
    flex: 1 1 60%; /* larger width for summary card */
    background: #fff;
    border-radius: 16px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.1);
    padding: 30px;
    margin-right: 10%;
  }

  .summary-title {
    font-size: 24px;
    font-weight: 600;
    color: #581eff;
    margin-bottom: 27px;
    text-align: center;
    padding-top: 22px;
  }

  .summary-details {
    display: flex;
    flex-direction: column;
    gap: 15px;
  }

  .summary-item {
    background: #f8f9fa;
    border-left: 4px solid #581eff;
    border-radius: 8px;
    padding: 15px;
  }

  .summary-label {
    font-weight: 600;
    color: #555;
    margin-bottom: 5px;
    font-size: 14px;
  }

  .summary-value {
    color: #222;
    font-weight: 500;
  }

  .total-price {
    text-align: center;
    margin-top: 25px;
    padding-top: 20px;
    border-top: 1px solid #eee;
  }

  .total-price-label {
    font-size: 18px;
    font-weight: 600;
    color: #555;
    margin-bottom: 10px;
  }

  .total-price-value {
    font-size: 36px;
    font-weight: 700;
    color: #581eff;
  }

  /* ---------- BUTTON ---------- */
  .btn {
    display: inline-block;
    background: #581eff;
    color: white;
    border: none;
    padding: 10px 25px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 15px;
    transition: background 0.2s;
  }

  .btn:hover {
    background: #0b5ed7;
  }

  .back-btn {
    display: block;
    margin: 40px auto 60px;
    background: #581eff;
    color: #fff;
    font-weight: bold;
    width: 70%;
    padding: 8px 0;
  }

  .back-btn:hover {
    background: #0b5ed7;
  }

  /* ---------- RESPONSIVE LAYOUT FIX ---------- */
@media (max-width: 1200px) {
  .main-layout {
    flex-direction: column;
    align-items: center;
    margin: 30px auto;
    gap: 30px;
  }

  /* ✅ Two boxes side by side (center aligned) */
  .price-options {
    display: flex;
    justify-content: center; /* center align horizontally */
    align-items: stretch;
    gap: 30px; /* space between the boxes */
    width: 80%; /* adjust container width */
    margin: 0 auto;
  }

  .price-option {
    flex: 0 0 45%; /* each box takes 45% width */
    width: 45%;
  }

  /* ✅ Summary goes below the two boxes */
  .summary-section {
    width: 80%;
    margin: 20px auto 40px;
  }
}

/* ---------- MOBILE ---------- */
@media (max-width: 700px) {
  .price-options {
    flex-direction: column; /* stack on mobile */
    align-items: center;
    width: 90%;
    gap: 20px;
  }

  .price-option {
    width: 100%;
  }

  .summary-section {
    width: 95%;
  }
}

</style>
</head>
<body>

<header>Pricing Summary</header>

<!-- ✅ Combined layout -->
<div class="main-layout">
  <!-- Left Side -->
  <div class="price-options">
    <div class="price-option">
      <h3>Standard Price</h3>
      <div class="price-amount" id="standard-price">$0</div>
      <div class="price-description">
        A one-time full payment will be charged to your credit or debit card once a trusted car carrier is assigned to your order.
      </div>
      <div class="book-online-box">
  <a href="https://yourbookinglink.com" class="book-btn">Book Online</a>
  <a href="tel:224-218-2949" class="book-phone">+1 (786) 745-6259</a>
</div>

    </div>

    <div class="price-option">
      <h3>Discounted Cash Price</h3>
      <div class="price-amount" id="cash-price">$0</div>
      <div class="price-description">
        Deposit will be charged once a trucker is assigned for pickup. The balance can be paid upon delivery directly to the trucker in cash, cashier's check, certified funds.
      </div>
      <div class="book-online-box">
  <a href="https://yourbookinglink.com" class="book-btn">Book Online</a>
  <a href="tel:224-218-2949" class="book-phone">+1 (786) 745-6259</a>
</div>

    </div>
  </div>

  <!-- Right Side -->
  <div class="summary-section">
    <div class="summary-title">Summary of the Quote</div>

    <div class="summary-details">
      <div class="summary-item">
        <div class="summary-label">Vehicle</div>
        <div class="summary-value" id="summary-vehicle">Small Car</div>
        <div class="summary-value" id="summary-condition">
          <span style="color: #581eff;">●</span> Operable  
          <span style="color: #ccc;">○</span> Inoperable (+$150)
        </div>
      </div>

      <div class="summary-item">
        <div class="summary-label">Preferred Carrier</div>
        <div class="summary-value" id="summary-carrier">Open</div>
      </div>

      <div class="summary-item">
  <div class="summary-label">Route</div>
  <div class="summary-value" id="summary-route">
    From: <span id="summary-pickup">--</span><br>
    To: <span id="summary-delivery">--</span><br>
    Distance: <span id="summary-distance">Calculating...</span><br>
    Date: <span id="summary-date">7DAYS</span>
  </div>
</div>

      <div class="summary-item">
        <div class="summary-label">Shipping Plan</div>
        <div class="summary-value" id="summary-plan">Standard Price: $0</div>
      </div>
    </div>

    <div class="total-price">
      <div class="total-price-label">Total Shipment Price</div>
      <div class="total-price-value" id="total-price">$0</div>
      <p>No payment required until your pickup is scheduled.</p>
    </div>
  </div>
</div>

<button class="btn back-btn" onclick="goBack()">← Go Back</button>

<script>
// ======= DYNAMIC PRICE CALCULATION (CLIENT'S CLEAR VERSION) =======
function calculateDynamicPrice() {
  const miles = parseFloat(localStorage.getItem('tripMiles')) || 0;
  const vehicleCondition = localStorage.getItem('vehicleCondition') || 'yes';
  const carrierType = localStorage.getItem('carrierType') || 'open';

  let basePrice = 0;

  if (miles > 0) {
    // Client's clear if-else pattern
    let ratePercentage;
    if (carrierType === "open") {
      ratePercentage = 0.45;
    } else if (carrierType === "enclosed") {
      ratePercentage = 0.55;
    } else {
      ratePercentage = 0.45; // fallback to open
    }
    
    basePrice = miles * ratePercentage;

    // Add $50 if not running
    if (vehicleCondition !== "yes") {
      basePrice += 50;
    }
  }

  return basePrice;
}

  // ======= UPDATE PRICE DISPLAY =======
  function updatePriceDisplay() {
    const basePrice = calculateDynamicPrice();
    
    // Save calculated price
    localStorage.setItem("calculatedPrice", `$${basePrice.toFixed(2)}`);

    // Update all price elements
    const priceElements = [
      'standard-price',
      'cash-price', 
      'summary-plan',
      'total-price'
    ];

    priceElements.forEach(id => {
      const element = document.getElementById(id);
      if (element) {
        if (id === 'cash-price') {
          element.textContent = `$${(basePrice * 0.95).toFixed(2)}`; // 5% discount
        } else if (id === 'summary-plan') {
          element.textContent = `Standard Price: $${basePrice.toFixed(2)}`;
        } else {
          element.textContent = `$${basePrice.toFixed(2)}`;
        }
      }
    });

    // Update distance display if available
    const miles = parseFloat(localStorage.getItem('tripMiles')) || 0;
    const distanceElement = document.getElementById('summary-distance');
    if (distanceElement) {
      if (miles > 0) {
        distanceElement.textContent = `${miles.toFixed(2)} miles`;
      } else {
        distanceElement.textContent = 'Calculating...';
      }
    }
  }

  // ======= HELPER FUNCTIONS =======
  function formatDate(dateString) {
    if (!dateString || dateString === '--') return '7DAYS';

    if (dateString.includes('As soon as possible') || 
        dateString.includes('Within 7 days') || 
        dateString.includes('On a particular date') || 
        dateString.includes("I don't know yet")) {
      return dateString;
    }

    try {
      const date = new Date(dateString);
      return date.toLocaleDateString('en-US', { 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
      });
    } catch (e) {
      return dateString;
    }
  }

  function formatCarrierType(type) {
    if (type === 'open') return 'Open';
    if (type === 'enclosed') return 'Enclosed';
    return type;
  }

  function formatVehicle() {
    const vehicleMake = localStorage.getItem('vehicleMake') || '';
    const vehicleModel = localStorage.getItem('vehicleModel') || '';
    const vehicle = `${vehicleMake} ${vehicleModel}`.trim();
    return vehicle || 'Small Car';
  }

  // ======= INITIALIZE PRICING PAGE =======
  document.addEventListener('DOMContentLoaded', function() {
    // Get fresh data from localStorage
    const vehicleMake = localStorage.getItem('vehicleMake') || '';
    const vehicleModel = localStorage.getItem('vehicleModel') || '';
    const vehicleYear = localStorage.getItem('vehicleYear') || '';
    const pickupLocation = localStorage.getItem('pickupLocation') || '--';
    const deliveryLocation = localStorage.getItem('deliveryLocation') || '--';
    const shippingDate = localStorage.getItem('shippingDate') || '--';
    const vehicleCondition = localStorage.getItem('vehicleCondition') || 'yes';
    const carrierType = localStorage.getItem('carrierType') || 'open';
    const pickupDate = localStorage.getItem('pickupDate') || '--';

    // Calculate and display price immediately
    updatePriceDisplay();
    
    // Update summary information
    document.getElementById('summary-vehicle').textContent = formatVehicle();

    const conditionElement = document.getElementById('summary-condition');
    if (vehicleCondition === 'yes') {
      conditionElement.innerHTML = '<span style="color: #28a745;">●</span> Operable  <span style="color: #ccc;">○</span> Inoperable (+$50)';
    } else {
      conditionElement.innerHTML = '<span style="color: #ccc;">○</span> Operable  <span style="color: #28a745;">●</span> Inoperable (+$50)';
    }

    document.getElementById('summary-carrier').textContent = formatCarrierType(carrierType);
    document.getElementById('summary-pickup').textContent = pickupLocation;
    document.getElementById('summary-delivery').textContent = deliveryLocation;

    const displayDate = pickupDate !== '--' ? pickupDate : shippingDate;
    document.getElementById('summary-date').textContent = formatDate(displayDate);

    // Update distance
    const miles = parseFloat(localStorage.getItem('tripMiles')) || 0;
    const distanceElement = document.getElementById('summary-distance');
    if (distanceElement && miles > 0) {
      distanceElement.textContent = `${miles.toFixed(2)} miles`;
    }
  });

  // ======= BACK BUTTON FUNCTION =======
  function goBack() {
    window.location.href = "index.html";
  }
</script>



</body>
</html>