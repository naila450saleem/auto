<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pricing | Auto Transport Quote</title>
<style>
  body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: #f7f8fa;
    color: #222;
  }

  header {
    background: #0d6efd;
    color: #fff;
    padding: 20px 0;
    text-align: center;
    font-size: 26px;
    font-weight: 600;
    letter-spacing: 1px;
  }

  /* ---------- MAIN CONTAINER ---------- */
  .main-layout {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    gap: 30px;
    max-width: 1200px;
    margin: 50px auto;
    flex-wrap: nowrap;
  }

  /* ---------- LEFT SIDE: PRICE OPTIONS ---------- */
  .price-options {
    display: flex;
    flex-direction: column;
    gap: 25px;
    flex: 0 0 25%; /* smaller width (35%) */
    margin-left: 10%;
  }

  .price-option {
    background: #fff;
    border-radius: 16px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.1);
    padding: 25px;
    text-align: center;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .price-option:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
  }

  .price-option h3 {
    color: #0d6efd;
    margin-bottom: 10px;
    font-size: 20px;
  }

  .price-amount {
    font-size: 32px;
    font-weight: 700;
    color: #28a745;
    margin: 10px 0;
  }

  .price-description {
    color: #666;
    margin-bottom: 15px;
    line-height: 1.5;
    font-size: 14px;
  }

  .book-online-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  margin-top: 15px;
}

.book-btn {
  display: inline-block;
  background-color: transparent;
  color: #000;
  font-weight: 600;
  padding: 12px 24px;
  border-radius: 8px;
  text-decoration: none;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  transition: background-color 0.3s ease, transform 0.2s ease;
  border: 2px solid #0b5ed7;
}

.book-btn:hover {
  background-color: #0056b3;
  transform: translateY(-2px);
  color: #fff;
}

.book-phone {
  margin-top: 8px;
  color: #333;
  text-decoration: none;
  font-size: 16px;
  font-weight: 500;
}

.book-phone:hover {
  color: #007bff;
  text-decoration: underline;
}


  /* ---------- RIGHT SIDE: SUMMARY ---------- */
  .summary-section {
    flex: 1 1 60%; /* larger width for summary card */
    background: #fff;
    border-radius: 16px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.1);
    padding: 30px;
    margin-right: 10%;
  }

  .summary-title {
    font-size: 24px;
    font-weight: 600;
    color: #0d6efd;
    margin-bottom: 27px;
    text-align: center;
    padding-top: 22px;
  }

  .summary-details {
    display: flex;
    flex-direction: column;
    gap: 15px;
  }

  .summary-item {
    background: #f8f9fa;
    border-left: 4px solid #0d6efd;
    border-radius: 8px;
    padding: 15px;
  }

  .summary-label {
    font-weight: 600;
    color: #555;
    margin-bottom: 5px;
    font-size: 14px;
  }

  .summary-value {
    color: #222;
    font-weight: 500;
  }

  .total-price {
    text-align: center;
    margin-top: 25px;
    padding-top: 20px;
    border-top: 1px solid #eee;
  }

  .total-price-label {
    font-size: 18px;
    font-weight: 600;
    color: #555;
    margin-bottom: 10px;
  }

  .total-price-value {
    font-size: 36px;
    font-weight: 700;
    color: #28a745;
  }

  /* ---------- BUTTON ---------- */
  .btn {
    display: inline-block;
    background: #0d6efd;
    color: white;
    border: none;
    padding: 10px 25px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 15px;
    transition: background 0.2s;
  }

  .btn:hover {
    background: #0b5ed7;
  }

  .back-btn {
    display: block;
    margin: 40px auto 60px;
    background: #b6f87c;
    color: #000;
    font-weight: bold;
    width: 70%;
    padding: 15px 0;
  }

  .back-btn:hover {
    background: #a4eb67;
  }

  /* ---------- RESPONSIVE ---------- */
  @media (max-width: 900px) {
    .main-layout {
      flex-direction: column;
      align-items: stretch;
      margin: 20px;
    }

    .price-options,
    .summary-section {
      flex: 1 1 100%;
    }
  }
</style>
</head>
<body>

<header>Pricing Summary</header>

<!-- ✅ Combined layout -->
<div class="main-layout">
  <!-- Left Side -->
  <div class="price-options">
    <div class="price-option">
      <h3>Standard Price</h3>
      <div class="price-amount" id="standard-price">$0</div>
      <div class="price-description">
        A one-time full payment will be charged to your credit or debit card once a trusted car carrier is assigned to your order.
      </div>
      <div class="book-online-box">
  <a href="https://yourbookinglink.com" class="book-btn">Book Online</a>
  <a href="tel:224-218-2949" class="book-phone">224-218-2949</a>
</div>

    </div>

    <div class="price-option">
      <h3>Discounted Cash Price</h3>
      <div class="price-amount" id="cash-price">$0</div>
      <div class="price-description">
        Deposit will be charged once a trucker is assigned for pickup. The balance can be paid upon delivery directly to the trucker in cash, cashier's check, certified funds.
      </div>
      <div class="book-online-box">
  <a href="https://yourbookinglink.com" class="book-btn">Book Online</a>
  <a href="tel:224-218-2949" class="book-phone">224-218-2949</a>
</div>

    </div>
  </div>

  <!-- Right Side -->
  <div class="summary-section">
    <div class="summary-title">Summary of the Quote</div>

    <div class="summary-details">
      <div class="summary-item">
        <div class="summary-label">Vehicle</div>
        <div class="summary-value" id="summary-vehicle">Small Car</div>
        <div class="summary-value" id="summary-condition">
          <span style="color: #28a745;">●</span> Operable  
          <span style="color: #ccc;">○</span> Inoperable (+$150)
        </div>
      </div>

      <div class="summary-item">
        <div class="summary-label">Preferred Carrier</div>
        <div class="summary-value" id="summary-carrier">Open</div>
      </div>

      <div class="summary-item">
        <div class="summary-label">Route</div>
        <div class="summary-value" id="summary-route">
          From: <span id="summary-pickup">--</span><br>
          To: <span id="summary-delivery">--</span><br>
          Date: <span id="summary-date">7DAYS</span>
        </div>
      </div>

      <div class="summary-item">
        <div class="summary-label">Shipping Plan</div>
        <div class="summary-value" id="summary-plan">Standard Price: $0</div>
      </div>
    </div>

    <div class="total-price">
      <div class="total-price-label">Total Shipment Price</div>
      <div class="total-price-value" id="total-price">$0</div>
      <p>No payment required until your pickup is scheduled.</p>
    </div>
  </div>
</div>

<button class="btn back-btn" onclick="goBack()">← Go Back</button>

<script>
  // Fetch data from localStorage
  const miles = parseFloat(localStorage.getItem('tripMiles')) || 0;
  const vehicleMake = localStorage.getItem('vehicleMake') || '';
  const vehicleModel = localStorage.getItem('vehicleModel') || '';
  const vehicleYear = localStorage.getItem('vehicleYear') || '';
  const pickupLocation = localStorage.getItem('pickupLocation') || '--';
  const deliveryLocation = localStorage.getItem('deliveryLocation') || '--';
  const shippingDate = localStorage.getItem('shippingDate') || '--';
  const vehicleCondition = localStorage.getItem('vehicleCondition') || 'yes';
  const carrierType = localStorage.getItem('carrierType') || 'open';
  const pickupDate = localStorage.getItem('pickupDate') || '--';

  // Format dates for display
  function formatDate(dateString) {
    if (!dateString || dateString === '--') return '7DAYS';
    
    // If it's already a readable string (from dropdown)
    if (dateString.includes('As soon as possible') || 
        dateString.includes('Within 7 days') || 
        dateString.includes('On a particular date') || 
        dateString.includes('I don\'t know yet')) {
        return dateString;
    }
    
    // If it's a date string, format it
    try {
        const date = new Date(dateString);
        return date.toLocaleDateString('en-US', { 
            year: 'numeric', 
            month: 'long', 
            day: 'numeric' 
        });
    } catch (e) {
        return dateString;
    }
  }

  // Format carrier type for display
  function formatCarrierType(type) {
    if (type === 'open') return 'Open';
    if (type === 'enclosed') return 'Enclosed';
    return type;
  }

  // Format vehicle for display
  function formatVehicle() {
    const vehicle = ` ${vehicleMake} `.trim();
    return vehicle || 'Small Car';
  }

  // Calculate base price based on miles
  let basePrice = 0;
  if (miles > 0) {
    basePrice = miles * 1.00; // $1 per mile base rate
  }

  // Update summary section
  document.getElementById('summary-vehicle').textContent = formatVehicle();
  
  // Update vehicle condition display
  const conditionElement = document.getElementById('summary-condition');
  if (vehicleCondition === 'yes') {
    conditionElement.innerHTML = '<span style="color: #28a745;">●</span> Operable  <span style="color: #ccc;">○</span> Inoperable (+$150)';
  } else {
    conditionElement.innerHTML = '<span style="color: #ccc;">○</span> Operable  <span style="color: #28a745;">●</span> Inoperable (+$150)';
    // Add $150 for inoperable vehicles
    basePrice += 150;
  }
  
  document.getElementById('summary-carrier').textContent = formatCarrierType(carrierType);
  document.getElementById('summary-pickup').textContent = pickupLocation;
  document.getElementById('summary-delivery').textContent = deliveryLocation;
  
  // Use pickup date from dropdown if available, otherwise use shipping date
  const displayDate = pickupDate !== '--' ? pickupDate : shippingDate;
  document.getElementById('summary-date').textContent = formatDate(displayDate);
  
  // Update price options
  document.getElementById('standard-price').textContent = `$${basePrice.toFixed(2)}`;
  document.getElementById('cash-price').textContent = `$${(basePrice * 0.95).toFixed(2)}`; // 5% discount for cash
  
  // Update shipping plan
  document.getElementById('summary-plan').textContent = `Standard Price: $${basePrice.toFixed(2)}`;
  
  // Update total price
  document.getElementById('total-price').textContent = `$${basePrice.toFixed(2)}`;

  function goBack() {
    window.location.href = "index.html"; // adjust to your main page URL
  }
</script>

</body>
</html>